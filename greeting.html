<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>Lá»i chÃºc Noel</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
/* ===== Ná»€N CHUNG ===== */
body{
  margin:0;
  overflow:hidden;
  background:linear-gradient(#0b1020,#000);
  font-family:system-ui;
  color:#fff;
}

/* ===== CANVAS TUYáº¾T + PHÃO HOA (á» DÆ¯á»šI) ===== */
#fx{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;          /* ğŸ‘ˆ QUAN TRá»ŒNG */
}

/* ===== Ná»˜I DUNG (á» TRÃŠN CANVAS) ===== */
.center{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  text-align:center;
  z-index:1;          /* ğŸ‘ˆ QUAN TRá»ŒNG */
}

/* ===== CARD ===== */
.card{
  background:rgba(255,255,255,.9);
  padding:24px;
  border-radius:22px;
  box-shadow:0 30px 80px rgba(0,0,0,.7);
  max-width:520px;
}

/* ===== CÃ‚Y THÃ”NG ===== */
.tree{
  font-size:96px;
  animation:shake 3s infinite ease-in-out;
}
@keyframes shake{
  0%,100%{transform:rotate(0)}
  50%{transform:rotate(4deg)}
}

/* ===== Lá»œI CHÃšC ===== */
.message{
  margin-top:14px;
  font-size:18px;
  color:#0b1020;      /* ğŸ‘ˆ CHá»® ÄEN */
  background:#ffffff;
  padding:12px 16px;
  border-radius:14px;
}

/* ===== NÃšT NHáº C ===== */
button{
  margin-top:14px;
  padding:10px 18px;
  border-radius:14px;
  border:none;
  background:#22c55e;
  color:#000;
  font-weight:700;
  cursor:pointer;
}

/* ===== QUÃ€ RÆ I ===== */
.gift{
  position:absolute;
  font-size:32px;
  animation:fall linear forwards;
}
@keyframes fall{
  to{transform:translateY(120vh)}
}
</style>
</head>

<body>

<!-- CANVAS HIá»†U á»¨NG -->
<canvas id="fx"></canvas>

<!-- Ná»˜I DUNG -->
<div class="center">
  <div class="card">
    <div class="tree">ğŸ„</div>
    <h2>ğŸ‰ Lá»i chÃºc dÃ nh cho báº¡n</h2>
    <div id="msg" class="message"></div>
    <button onclick="playMusic()">ğŸ”Š Báº­t nháº¡c Noel</button>
  </div>
</div>

<!-- NHáº C -->
<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/12/06/audio_3e6c65fd19.mp3">
</audio>

<script>
/* ===== HIá»†N Lá»œI CHÃšC ===== */
const params = new URLSearchParams(location.search);
document.getElementById("msg").textContent =
  params.get("m") || "ChÃºc báº¡n GiÃ¡ng Sinh an lÃ nh ğŸ„";

/* ===== NHáº C ===== */
const music = document.getElementById("music");
function playMusic(){ music.play(); }

/* ===== CANVAS SETUP ===== */
const c = document.getElementById("fx");
const ctx = c.getContext("2d");
let w,h;
function resize(){
  w = c.width = window.innerWidth;
  h = c.height = window.innerHeight;
}
resize();
window.onresize = resize;

/* ===== TUYáº¾T ===== */
let snow=[];
for(let i=0;i<140;i++){
  snow.push({
    x:Math.random()*w,
    y:Math.random()*h,
    r:1+Math.random()*3,
    s:0.5+Math.random()
  });
}

function draw(){
  ctx.clearRect(0,0,w,h);
  ctx.fillStyle="white";
  snow.forEach(f=>{
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,6.28);
    ctx.fill();
    f.y+=f.s;
    if(f.y>h) f.y=0;
  });
  requestAnimationFrame(draw);
}
draw();

/* ===== PHÃO HOA KHI Má» ===== */
for(let i=0;i<90;i++){
  setTimeout(()=>{
    ctx.fillStyle=`hsl(${Math.random()*360},100%,70%)`;
    ctx.beginPath();
    ctx.arc(Math.random()*w,Math.random()*h/2,4,0,6.28);
    ctx.fill();
  },i*30);
}

/* ===== QUÃ€ RÆ I KHI CHáº M ===== */
document.body.onclick = ()=>{
  const g = document.createElement("div");
  g.className="gift";
  g.textContent="ğŸ";
  g.style.left=Math.random()*innerWidth+"px";
  g.style.top="-40px";
  g.style.animationDuration=2+Math.random()*2+"s";
  document.body.appendChild(g);
  setTimeout(()=>g.remove(),4000);
};
</script>

</body>
</html>
