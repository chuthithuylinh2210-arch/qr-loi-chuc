<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>QR Lá»i chÃºc Noel</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{
  margin:0;min-height:100vh;display:grid;place-items:center;
  background:radial-gradient(circle at top,#1b2b5a,#0b1020);
  color:#fff;font-family:system-ui
}
.card{
  width:min(520px,92vw);
  background:rgba(255,255,255,.08);
  border-radius:18px;padding:18px;
  box-shadow:0 25px 60px rgba(0,0,0,.6);
  text-align:center
}
textarea{
  width:100%;height:100px;
  border-radius:12px;border:none;
  padding:10px;font-size:14px
}
button{
  margin-top:10px;
  background:#22c55e;border:none;
  padding:10px 18px;border-radius:14px;
  font-size:15px;font-weight:700;cursor:pointer
}
#qr{margin-top:15px}
.small{font-size:12px;opacity:.8;margin-top:6px}
</style>
</head>
<body>
<div class="card">
<h2>ğŸ„ Táº¡o QR lá»i chÃºc GiÃ¡ng Sinh</h2>

<textarea id="msg">ChÃºc báº¡n GiÃ¡ng Sinh an lÃ nh ğŸ„âœ¨ vÃ  nÄƒm má»›i trÃ n Ä‘áº§y niá»m vui!</textarea>
<br>
<button onclick="makeQR()">Táº¡o QR</button>

<div id="qr"></div>
<div class="small">ğŸ“± QuÃ©t báº±ng Ä‘iá»‡n thoáº¡i Ä‘á»ƒ má»Ÿ lá»i chÃºc</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
async function makeQR(){
  const text=document.getElementById("msg").value;
  const url=new URL("greeting.html",location.href);
  url.searchParams.set("m",text);

  document.getElementById("qr").innerHTML="";
  const canvas=document.createElement("canvas");
  document.getElementById("qr").appendChild(canvas);

  await QRCode.toCanvas(canvas,url.toString(),{
    width:260,
    color:{
      dark:"#22c55e",
      light:"#0b1020"
    }
  });

  // logo giá»¯a QR
  const ctx=canvas.getContext("2d");
  const img=new Image();
  img.src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Christmas_tree_icon.svg/512px-Christmas_tree_icon.svg.png";
  img.onload=()=>{
    const s=60;
    ctx.drawImage(img,(canvas.width-s)/2,(canvas.height-s)/2,s,s);
  }
}
makeQR();
</script>
</body>
</html>
